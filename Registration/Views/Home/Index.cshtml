@model Registration.Models.ViewModel

<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script type="text/javascript" charset="utf-8" src="http://cdn.sencha.io/ext-4.2.0-gpl/ext-all.js"></script>
<script type="text/javascript" src="../../UI/scripts/request.js"></script>
<script type="text/javascript" src="../../UI/scripts/getUserRole.js"></script>
<script type="text/javascript" src="../../UI/scripts/app.js"></script>
<script>getRole.getUserRole()</script>
<link rel="stylesheet" type="text/css" href="../../UI/css/ext-all-gray.css">
<link rel="stylesheet" type="text/css" href="../../UI/css/ext-all.css">

<script>
    var uploadWindow = Ext.create('Ext.window.Window', {
        title: 'Upload file to database',
        bodyStyle: 'background: #fff',
        height: 130,
        width: 300,
        renderTo: Ext.getBody(),
        modal: true,
        items: [{
            xtype: 'form',
            padding: '20 10',
            items: [{
                xtype: 'filefield',
                padding: '5',
                fieldLabel: 'Виберіть файл..',
                name: 'file'
            }],
            buttons: [{
                text: 'Завантажити',
                handler: function(btn) {
                    this.up('form').getForm().submit({
                        url: 'Home/Upload',
                        waitMsg: 'Uploading...',
                        method: 'POST',
                        success: function() {
                            var window = btn.up('window');
                            Ext.Msg.alert('Success', 'File uploaded successful', function(btn) {
                                if(btn == "ok") {
                                    window.close();
                                }
                            });
                        }
                    });
                }
            }]
        }]
    }); 
    
</script>
